<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RYD STORE • Digital Payment Revolution</title>
    
    <!-- Font & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0fdfa',
                            100: '#ccfbf1',
                            200: '#99f6e4',
                            300: '#5eead4',
                            400: '#2dd4bf',
                            500: '#14b8a6',
                            600: '#0d9488',
                            700: '#0f766e',
                            800: '#115e59',
                            900: '#134e4a',
                        },
                        gradient: {
                            start: '#0ea5e9',
                            mid: '#3b82f6',
                            end: '#8b5cf6'
                        }
                    },
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 2s ease-in-out infinite',
                        'slide-up': 'slide-up 0.5s ease-out',
                        'slide-down': 'slide-down 0.5s ease-out',
                        'fade-in': 'fade-in 0.8s ease-out',
                        'bounce-subtle': 'bounce-subtle 2s infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        'pulse-glow': {
                            '0%, 100%': { opacity: 1 },
                            '50%': { opacity: 0.7 },
                        },
                        'slide-up': {
                            '0%': { transform: 'translateY(20px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        },
                        'slide-down': {
                            '0%': { transform: 'translateY(-20px)', opacity: 0 },
                            '100%': { transform: 'translateY(0)', opacity: 1 },
                        },
                        'fade-in': {
                            '0%': { opacity: 0 },
                            '100%': { opacity: 1 },
                        },
                        'bounce-subtle': {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        * {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #0ea5e9, #3b82f6);
            border-radius: 10px;
        }
        
        /* Glass Effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }
        
        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(45deg, #0ea5e9, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Shimmer Effect */
        .shimmer {
            position: relative;
            overflow: hidden;
        }
        
        .shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            100% { left: 100%; }
        }
        
        /* Custom Button Styles */
        .btn-primary {
            background: linear-gradient(45deg, #0ea5e9, #3b82f6);
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(14, 165, 233, 0.3);
        }
        
        .btn-primary:active {
            transform: translateY(0);
        }
        
        /* Custom Input Styles */
        .input-modern {
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s ease;
        }
        
        .input-modern:focus {
            border-color: #0ea5e9;
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.2);
            background: rgba(255, 255, 255, 0.12);
        }
        
        .input-modern::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }
        
        /* Pulse Animation */
        .pulse-ring {
            animation: pulse-ring 2s infinite;
        }
        
        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(14, 165, 233, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(14, 165, 233, 0); }
            100% { box-shadow: 0 0 0 0 rgba(14, 165, 233, 0); }
        }
        
        /* Custom Checkbox */
        .custom-checkbox {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .custom-checkbox:checked {
            background: linear-gradient(45deg, #0ea5e9, #3b82f6);
            border-color: transparent;
        }
        
        .custom-checkbox:checked::after {
            content: '✓';
            position: absolute;
            color: white;
            font-size: 12px;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* Neumorphism Card */
        .neumorphism {
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border-radius: 20px;
            box-shadow: 10px 10px 20px #0a0f18,
                       -10px -10px 20px #243047;
        }
        
        /* Loading Spinner */
        .spinner {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top: 3px solid #0ea5e9;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Gradient Border */
        .gradient-border {
            position: relative;
            border-radius: 16px;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            padding: 1px;
        }
        
        .gradient-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #0ea5e9, #3b82f6, #8b5cf6);
            border-radius: 18px;
            z-index: -1;
            opacity: 0.7;
        }
        
        /* Floating Elements */
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
            font-size: 10px;
            font-weight: 800;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0ea5e9, #3b82f6);
            border-radius: 3px;
            transition: width 0.5s ease;
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
        }
        
        .tooltip-text {
            visibility: hidden;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 5px 10px;
            border-radius: 6px;
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* Custom Radio */
        .custom-radio {
            display: none;
        }
        
        .radio-label {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .custom-radio:checked + .radio-label {
            border-color: #0ea5e9;
            background: rgba(14, 165, 233, 0.1);
        }
        
        /* Smooth Transitions */
        .transition-all-smooth {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Dark Mode (already dark) */
        .dark-mode {
            background: #0f172a;
            color: white;
        }
        
        /* Responsive Adjustments */
        @media (max-width: 640px) {
            .mobile-padding {
                padding-left: 16px;
                padding-right: 16px;
            }
            
            .mobile-text {
                font-size: 14px;
            }
        }
        
        /* Print Styles */
        @media print {
            .no-print {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
        }
    </style>
</head>
<body class="dark-mode text-white antialiased">
    <!-- App Container -->
    <div id="app" class="max-w-md mx-auto min-h-screen relative pb-32"></div>
    
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-gradient-to-br from-gray-900 to-gray-800 z-50 flex flex-col items-center justify-center">
        <div class="relative mb-8">
            <div class="w-32 h-32 rounded-full pulse-ring flex items-center justify-center">
                <div class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                    <i class="fas fa-store text-3xl text-white"></i>
                </div>
            </div>
            <div class="absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center">
                <i class="fas fa-bolt text-sm text-white"></i>
            </div>
        </div>
        
        <h1 class="text-3xl font-black gradient-text mb-2">RYD STORE</h1>
        <p class="text-gray-400 mb-8">Loading premium experience...</p>
        
        <div class="w-64 bg-gray-800 rounded-full h-2 overflow-hidden">
            <div id="loadingBar" class="h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full" style="width: 0%"></div>
        </div>
        
        <div class="mt-8 grid grid-cols-3 gap-4">
            <div class="text-center">
                <div class="w-8 h-8 mx-auto mb-2 rounded-full bg-gray-800 flex items-center justify-center">
                    <i class="fas fa-shield-alt text-blue-400"></i>
                </div>
                <p class="text-xs text-gray-400">Secure</p>
            </div>
            <div class="text-center">
                <div class="w-8 h-8 mx-auto mb-2 rounded-full bg-gray-800 flex items-center justify-center">
                    <i class="fas fa-bolt text-yellow-400"></i>
                </div>
                <p class="text-xs text-gray-400">Fast</p>
            </div>
            <div class="text-center">
                <div class="w-8 h-8 mx-auto mb-2 rounded-full bg-gray-800 flex items-center justify-center">
                    <i class="fas fa-heart text-red-400"></i>
                </div>
                <p class="text-xs text-gray-400">Reliable</p>
            </div>
        </div>
    </div>
    
    <!-- Music Player (Background) -->
    <div class="fixed bottom-24 right-4 z-40">
        <button id="musicToggle" class="w-12 h-12 glass-card rounded-full flex items-center justify-center text-xl">
            <i class="fas fa-music"></i>
        </button>
        <audio id="bgMusic" loop>
            <source src="https://assets.mixkit.co/music/preview/mixkit-tech-house-vibes-130.mp3" type="audio/mpeg">
        </audio>
    </div>
    
    <!-- Bottom Navigation -->
    <div id="bottomNav" class="fixed bottom-0 left-0 right-0 max-w-md mx-auto z-30 p-4" style="display: none;">
        <div class="glass-card rounded-2xl p-2 flex justify-between">
            <button onclick="navTo('dashboard')" class="nav-btn flex flex-col items-center p-3 rounded-xl w-1/5">
                <i class="fas fa-home text-xl mb-1"></i>
                <span class="text-xs font-medium">Home</span>
            </button>
            <button onclick="navTo('services')" class="nav-btn flex flex-col items-center p-3 rounded-xl w-1/5">
                <i class="fas fa-th-large text-xl mb-1"></i>
                <span class="text-xs font-medium">Services</span>
            </button>
            <button onclick="openSubPage('pageTopUp')" class="nav-btn flex flex-col items-center p-3 rounded-xl w-1/5 relative">
                <div class="absolute -top-3 w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg">
                    <i class="fas fa-plus text-xl text-white"></i>
                </div>
                <span class="text-xs font-medium mt-8">Top Up</span>
            </button>
            <button onclick="navTo('history')" class="nav-btn flex flex-col items-center p-3 rounded-xl w-1/5">
                <i class="fas fa-history text-xl mb-1"></i>
                <span class="text-xs font-medium">History</span>
            </button>
            <button onclick="navTo('profile')" class="nav-btn flex flex-col items-center p-3 rounded-xl w-1/5">
                <i class="fas fa-user text-xl mb-1"></i>
                <span class="text-xs font-medium">Profile</span>
            </button>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ============================================
        // KONFIGURASI & INISIALISASI
        // ============================================
        const WA_ADMIN = "6285881934739";
        const firebaseConfig = {
            apiKey: "AIzaSyCEeF0D3RB5uthkMKx5rkSTEYii-7Pp0KM",
            authDomain: "riyadistore3.firebaseapp.com",
            databaseURL: "https://riyadistore3-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "riyadistore3",
            storageBucket: "riyadistore3.firebasestorage.app",
            messagingSenderId: "28764528472",
            appId: "1:28764528472:web:941e615ef35d62b4724f2d"
        };
        
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        
        let userAktif = null;
        let passAktif = null;
        let saldoAktif = 0;
        let isHide = true;
        let currentPage = 'login';
        
        // ============================================
        // ANIMASI LOADING
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            simulateLoading();
            setupMusicPlayer();
        });
        
        function simulateLoading() {
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 100) progress = 100;
                
                document.getElementById('loadingBar').style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('loadingScreen').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('loadingScreen').style.display = 'none';
                            renderLogin();
                        }, 500);
                    }, 300);
                }
            }, 100);
        }
        
        function setupMusicPlayer() {
            const musicToggle = document.getElementById('musicToggle');
            const bgMusic = document.getElementById('bgMusic');
            let isPlaying = false;
            
            musicToggle.addEventListener('click', () => {
                if (isPlaying) {
                    bgMusic.pause();
                    musicToggle.innerHTML = '<i class="fas fa-music"></i>';
                    musicToggle.style.background = 'rgba(255, 255, 255, 0.1)';
                } else {
                    bgMusic.play().catch(e => console.log("Autoplay prevented:", e));
                    musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                    musicToggle.style.background = 'linear-gradient(45deg, #0ea5e9, #3b82f6)';
                }
                isPlaying = !isPlaying;
            });
        }
        
        // ============================================
        // HALAMAN LOGIN - PREMIUM VERSION
        // ============================================
        function renderLogin() {
            currentPage = 'login';
            document.getElementById('bottomNav').style.display = 'none';
            
            document.getElementById('app').innerHTML = `
                <div class="min-h-screen flex flex-col mobile-padding">
                    <!-- Background Elements -->
                    <div class="absolute top-10 left-1/4 w-32 h-32 bg-gradient-to-br from-blue-500/10 to-purple-600/10 rounded-full blur-3xl"></div>
                    <div class="absolute bottom-20 right-1/4 w-40 h-40 bg-gradient-to-br from-green-500/10 to-blue-500/10 rounded-full blur-3xl"></div>
                    
                    <!-- Header -->
                    <div class="pt-16 pb-8 text-center">
                        <div class="relative inline-block mb-6">
                            <div class="floating-element w-24 h-24 bg-gradient-to-br from-blue-500 via-purple-600 to-pink-500 rounded-2xl flex items-center justify-center shadow-2xl">
                                <i class="fas fa-store-alt text-3xl text-white"></i>
                            </div>
                            <div class="absolute -top-2 -right-2 w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center animate-bounce-subtle">
                                <i class="fas fa-bolt text-sm text-white"></i>
                            </div>
                        </div>
                        
                        <h1 class="text-4xl font-black gradient-text mb-2">RYD STORE</h1>
                        <p class="text-gray-400 font-medium">Premium Digital Experience</p>
                        <div class="flex items-center justify-center gap-2 mt-3">
                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                            <span class="text-xs text-gray-400">Secure • Fast • Reliable</span>
                        </div>
                    </div>
                    
                    <!-- Login Form -->
                    <div class="flex-1 flex flex-col justify-center">
                        <div class="glass-card rounded-3xl p-8 mb-6 animate-slide-up">
                            <h2 class="text-2xl font-bold mb-1">Welcome Back!</h2>
                            <p class="text-gray-400 mb-8">Sign in to your premium account</p>
                            
                            <div class="space-y-6">
                                <!-- Username Input -->
                                <div>
                                    <label class="block text-sm font-medium mb-2 text-gray-300">Username</label>
                                    <div class="relative group">
                                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-400">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <input id="l_u" type="text" placeholder="Enter your username" 
                                               class="input-modern w-full pl-12 pr-4 py-4 rounded-xl outline-none transition-all-smooth">
                                    </div>
                                </div>
                                
                                <!-- Password Input -->
                                <div>
                                    <div class="flex justify-between items-center mb-2">
                                        <label class="block text-sm font-medium text-gray-300">Password</label>
                                        <button class="text-xs text-blue-400 hover:text-blue-300 transition-colors" onclick="showPasswordHint()">
                                            Forgot password?
                                        </button>
                                    </div>
                                    <div class="relative group">
                                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-400">
                                            <i class="fas fa-lock"></i>
                                        </div>
                                        <input id="l_p" type="password" placeholder="Enter your password" 
                                               class="input-modern w-full pl-12 pr-12 py-4 rounded-xl outline-none transition-all-smooth">
                                        <button type="button" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white" 
                                                onclick="togglePasswordVisibility('l_p', this)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Remember Me -->
                                <div class="flex items-center">
                                    <input type="checkbox" id="rememberMe" class="custom-checkbox">
                                    <label for="rememberMe" class="ml-3 text-sm text-gray-400 cursor-pointer">Remember me for 30 days</label>
                                </div>
                                
                                <!-- Login Button -->
                                <button onclick="doLogin()" 
                                        class="btn-primary w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 group">
                                    <span>Sign In</span>
                                    <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                                </button>
                            </div>
                            
                            <!-- Social Login -->
                            <div class="relative my-8">
                                <div class="absolute inset-0 flex items-center">
                                    <div class="w-full border-t border-gray-700"></div>
                                </div>
                                <div class="relative flex justify-center text-sm">
                                    <span class="px-4 bg-gray-900 text-gray-400">Or continue with</span>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-3">
                                <button class="py-3 rounded-xl bg-gray-800 hover:bg-gray-700 transition-colors flex items-center justify-center gap-2">
                                    <i class="fab fa-google text-red-400"></i>
                                    <span class="text-sm font-medium">Google</span>
                                </button>
                                <button class="py-3 rounded-xl bg-gray-800 hover:bg-gray-700 transition-colors flex items-center justify-center gap-2">
                                    <i class="fab fa-facebook text-blue-400"></i>
                                    <span class="text-sm font-medium">Facebook</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Register Link -->
                        <div class="text-center">
                            <p class="text-gray-400">Don't have an account? 
                                <button onclick="renderRegister()" class="text-blue-400 hover:text-blue-300 font-semibold transition-colors">
                                    Create Account
                                </button>
                            </p>
                        </div>
                        
                        <!-- Security Badges -->
                        <div class="grid grid-cols-3 gap-4 mt-10">
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 glass-card rounded-xl flex items-center justify-center">
                                    <i class="fas fa-shield-alt text-green-400"></i>
                                </div>
                                <p class="text-xs text-gray-400">Bank-level Security</p>
                            </div>
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 glass-card rounded-xl flex items-center justify-center">
                                    <i class="fas fa-bolt text-yellow-400"></i>
                                </div>
                                <p class="text-xs text-gray-400">Instant Processing</p>
                            </div>
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 glass-card rounded-xl flex items-center justify-center">
                                    <i class="fas fa-headset text-purple-400"></i>
                                </div>
                                <p class="text-xs text-gray-400">24/7 Support</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Footer -->
                    <div class="py-6 text-center">
                        <p class="text-xs text-gray-500">© 2024 RYD STORE. All rights reserved.</p>
                        <div class="flex justify-center gap-4 mt-2">
                            <a href="#" class="text-xs text-gray-500 hover:text-gray-300">Terms</a>
                            <a href="#" class="text-xs text-gray-500 hover:text-gray-300">Privacy</a>
                            <a href="#" class="text-xs text-gray-500 hover:text-gray-300">Help</a>
                        </div>
                    </div>
                </div>
            `;
            
            // Add input animations
            setTimeout(() => {
                const inputs = document.querySelectorAll('input');
                inputs.forEach((input, index) => {
                    setTimeout(() => {
                        input.style.animation = 'slide-up 0.5s ease-out';
                    }, index * 100);
                });
            }, 300);
        }
        
        // ============================================
        // HALAMAN REGISTER - PREMIUM VERSION
        // ============================================
        function renderRegister() {
            currentPage = 'register';
            
            document.getElementById('app').innerHTML = `
                <div class="min-h-screen flex flex-col mobile-padding animate-fade-in">
                    <!-- Back Button -->
                    <button onclick="renderLogin()" class="absolute top-6 left-6 w-10 h-10 glass-card rounded-full flex items-center justify-center text-lg z-10">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    
                    <!-- Background Elements -->
                    <div class="absolute top-20 right-10 w-40 h-40 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-full blur-3xl"></div>
                    
                    <!-- Content -->
                    <div class="flex-1 flex flex-col justify-center pt-12">
                        <div class="text-center mb-8">
                            <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-green-400 to-blue-500 rounded-2xl flex items-center justify-center">
                                <i class="fas fa-user-plus text-2xl text-white"></i>
                            </div>
                            <h1 class="text-3xl font-bold mb-2">Create Account</h1>
                            <p class="text-gray-400">Join our premium community</p>
                        </div>
                        
                        <!-- Registration Form -->
                        <div class="glass-card rounded-3xl p-8 mb-6">
                            <div class="space-y-6">
                                <!-- Username -->
                                <div>
                                    <label class="block text-sm font-medium mb-2 text-gray-300">Username</label>
                                    <div class="relative group">
                                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-400">
                                            <i class="fas fa-at"></i>
                                        </div>
                                        <input id="r_u" type="text" placeholder="Choose a username" 
                                               class="input-modern w-full pl-12 pr-4 py-4 rounded-xl outline-none">
                                    </div>
                                    <p class="text-xs text-gray-500 mt-2">Min. 3 characters, letters and numbers only</p>
                                </div>
                                
                                <!-- Password -->
                                <div>
                                    <label class="block text-sm font-medium mb-2 text-gray-300">Password</label>
                                    <div class="relative group">
                                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-400">
                                            <i class="fas fa-key"></i>
                                        </div>
                                        <input id="r_p" type="password" placeholder="Create strong password" 
                                               class="input-modern w-full pl-12 pr-12 py-4 rounded-xl outline-none">
                                        <button type="button" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white" 
                                                onclick="togglePasswordVisibility('r_p', this)">
                                            <i class="fas fa-eye"></i>
                                        </button>
                                    </div>
                                    <div class="mt-2">
                                        <div class="progress-bar">
                                            <div id="passwordStrength" class="progress-fill" style="width: 0%"></div>
                                        </div>
                                        <p id="passwordHint" class="text-xs text-gray-500 mt-1">Password strength: Very weak</p>
                                    </div>
                                </div>
                                
                                <!-- Confirm Password -->
                                <div>
                                    <label class="block text-sm font-medium mb-2 text-gray-300">Confirm Password</label>
                                    <div class="relative group">
                                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-400">
                                            <i class="fas fa-key"></i>
                                        </div>
                                        <input id="r_p2" type="password" placeholder="Re-enter your password" 
                                               class="input-modern w-full pl-12 pr-4 py-4 rounded-xl outline-none">
                                    </div>
                                </div>
                                
                                <!-- Referral Code -->
                                <div>
                                    <label class="block text-sm font-medium mb-2 text-gray-300">
                                        Referral Code <span class="text-gray-500">(Optional)</span>
                                    </label>
                                    <div class="relative group">
                                        <div class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 group-focus-within:text-blue-400">
                                            <i class="fas fa-gift"></i>
                                        </div>
                                        <input id="r_ref" type="text" placeholder="Enter friend's referral code" 
                                               class="input-modern w-full pl-12 pr-4 py-4 rounded-xl outline-none">
                                    </div>
                                </div>
                                
                                <!-- Terms & Conditions -->
                                <div class="flex items-start">
                                    <input type="checkbox" id="terms" class="custom-checkbox mt-1">
                                    <label for="terms" class="ml-3 text-sm text-gray-400">
                                        I agree to the <a href="#" class="text-blue-400 hover:text-blue-300">Terms of Service</a> and 
                                        <a href="#" class="text-blue-400 hover:text-blue-300">Privacy Policy</a>
                                    </label>
                                </div>
                                
                                <!-- Register Button -->
                                <button onclick="doRegister()" 
                                        class="btn-primary w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3 mt-2">
                                    <i class="fas fa-rocket"></i>
                                    <span>Create Premium Account</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Benefits -->
                        <div class="glass-card rounded-3xl p-6 mb-6">
                            <h3 class="font-bold mb-4 flex items-center gap-2">
                                <i class="fas fa-crown text-yellow-400"></i>
                                Premium Benefits
                            </h3>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 bg-green-500/20 rounded flex items-center justify-center">
                                        <i class="fas fa-check text-green-400 text-xs"></i>
                                    </div>
                                    <span class="text-sm">Bonus Saldo</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 bg-green-500/20 rounded flex items-center justify-center">
                                        <i class="fas fa-check text-green-400 text-xs"></i>
                                    </div>
                                    <span class="text-sm">Lower Fees</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 bg-green-500/20 rounded flex items-center justify-center">
                                        <i class="fas fa-check text-green-400 text-xs"></i>
                                    </div>
                                    <span class="text-sm">Priority Support</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="w-6 h-6 bg-green-500/20 rounded flex items-center justify-center">
                                        <i class="fas fa-check text-green-400 text-xs"></i>
                                    </div>
                                    <span class="text-sm">Exclusive Promo</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Login Link -->
                        <div class="text-center">
                            <p class="text-gray-400">Already have an account? 
                                <button onclick="renderLogin()" class="text-blue-400 hover:text-blue-300 font-semibold">
                                    Sign In Here
                                </button>
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            // Password strength checker
            document.getElementById('r_p').addEventListener('input', function() {
                checkPasswordStrength(this.value);
            });
        }
        
        // ============================================
        // DASHBOARD - PREMIUM VERSION
        // ============================================
        function renderDashboard() {
            currentPage = 'dashboard';
            document.getElementById('bottomNav').style.display = 'block';
            
            db.ref('users/' + userAktif).on('value', (s) => {
                const data = s.val();
                if (!data) return;
                
                saldoAktif = data.saldo || 0;
                const myFoto = data.foto || "https://cdn-icons-png.flaticon.com/512/149/149071.png";
                const userName = data.nama || userAktif;
                
                document.getElementById('app').innerHTML = `
                    <div class="min-h-screen pb-32">
                        <!-- Header -->
                        <div class="p-6">
                            <div class="flex justify-between items-center mb-8">
                                <!-- User Info -->
                                <div class="flex items-center gap-3">
                                    <div class="relative">
                                        <img src="${myFoto}" class="w-12 h-12 rounded-full border-2 border-blue-400">
                                        <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-gray-900"></div>
                                    </div>
                                    <div>
                                        <h2 class="font-bold">${userName}</h2>
                                        <p class="text-sm text-gray-400">@${userAktif}</p>
                                    </div>
                                </div>
                                
                                <!-- Notifications & Settings -->
                                <div class="flex items-center gap-3">
                                    <button class="w-10 h-10 glass-card rounded-xl flex items-center justify-center relative">
                                        <i class="fas fa-bell"></i>
                                        <div class="notification-badge">3</div>
                                    </button>
                                    <button onclick="openSubPage('pageProfile')" class="w-10 h-10 glass-card rounded-xl flex items-center justify-center">
                                        <i class="fas fa-cog"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Balance Card -->
                            <div class="gradient-border mb-6">
                                <div class="bg-gray-900 rounded-2xl p-6">
                                    <div class="flex justify-between items-start mb-4">
                                        <div>
                                            <p class="text-gray-400 text-sm font-medium">Total Balance</p>
                                            <div class="flex items-center gap-2">
                                                <h1 class="text-3xl font-bold ${isHide ? 'blur-md' : ''}" id="balanceDisplay">
                                                    Rp ${saldoAktif.toLocaleString('id-ID')}
                                                </h1>
                                                <button onclick="toggleSaldo()" class="text-gray-400 hover:text-white">
                                                    <i class="fas ${isHide ? 'fa-eye' : 'fa-eye-slash'}"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="w-14 h-14 bg-gradient-to-br from-blue-500/20 to-purple-600/20 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-wallet text-2xl text-blue-400"></i>
                                        </div>
                                    </div>
                                    
                                    <div class="grid grid-cols-2 gap-3">
                                        <button onclick="topUpPremium()" class="btn-primary py-3 rounded-xl font-semibold flex items-center justify-center gap-2">
                                            <i class="fas fa-plus"></i>
                                            Top Up
                                        </button>
                                        <button onclick="transferPremium()" class="py-3 rounded-xl glass-card font-semibold flex items-center justify-center gap-2">
                                            <i class="fas fa-exchange-alt"></i>
                                            Transfer
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Stats -->
                            <div class="grid grid-cols-3 gap-3 mb-8">
                                <div class="glass-card rounded-2xl p-4 text-center">
                                    <div class="w-10 h-10 mx-auto mb-2 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-arrow-up text-green-400"></i>
                                    </div>
                                    <p class="text-xs text-gray-400">Transactions</p>
                                    <p class="font-bold">${data.loginCount || 0}</p>
                                </div>
                                <div class="glass-card rounded-2xl p-4 text-center">
                                    <div class="w-10 h-10 mx-auto mb-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-users text-blue-400"></i>
                                    </div>
                                    <p class="text-xs text-gray-400">Referrals</p>
                                    <p class="font-bold">0</p>
                                </div>
                                <div class="glass-card rounded-2xl p-4 text-center">
                                    <div class="w-10 h-10 mx-auto mb-2 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-star text-purple-400"></i>
                                    </div>
                                    <p class="text-xs text-gray-400">Level</p>
                                    <p class="font-bold">Beginner</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Quick Services -->
                        <div class="px-6 mb-8">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-bold text-lg">Quick Services</h3>
                                <button class="text-blue-400 text-sm font-medium">See All</button>
                            </div>
                            
                            <div class="grid grid-cols-4 gap-4">
                                <button onclick="openSubPage('pageBank')" class="flex flex-col items-center">
                                    <div class="w-16 h-16 glass-card rounded-2xl flex items-center justify-center mb-2">
                                        <i class="fas fa-university text-2xl text-blue-400"></i>
                                    </div>
                                    <span class="text-xs font-medium">Bank</span>
                                </button>
                                
                                <button onclick="openSubPage('pagePulsa')" class="flex flex-col items-center">
                                    <div class="w-16 h-16 glass-card rounded-2xl flex items-center justify-center mb-2">
                                        <i class="fas fa-mobile-alt text-2xl text-green-400"></i>
                                    </div>
                                    <span class="text-xs font-medium">Pulsa</span>
                                </button>
                                
                                <button onclick="openSubPage('pageGame')" class="flex flex-col items-center">
                                    <div class="w-16 h-16 glass-card rounded-2xl flex items-center justify-center mb-2">
                                        <i class="fas fa-gamepad text-2xl text-purple-400"></i>
                                    </div>
                                    <span class="text-xs font-medium">Games</span>
                                </button>
                                
                                <button onclick="openSubPage('pageEwallet')" class="flex flex-col items-center">
                                    <div class="w-16 h-16 glass-card rounded-2xl flex items-center justify-center mb-2">
                                        <i class="fas fa-wallet text-2xl text-yellow-400"></i>
                                    </div>
                                    <span class="text-xs font-medium">E-Wallet</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Promo Banner -->
                        <div class="px-6 mb-8">
                            <div class="relative overflow-hidden rounded-2xl p-6 bg-gradient-to-r from-blue-600 to-purple-600">
                                <div class="relative z-10">
                                    <h3 class="font-bold text-xl mb-2">Special Offer! 🎉</h3>
                                    <p class="text-sm opacity-90 mb-4">Get 10% bonus on your first top up</p>
                                    <button class="bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold text-sm">
                                        Claim Now
                                    </button>
                                </div>
                                <div class="absolute right-4 top-1/2 transform -translate-y-1/2 w-24 h-24 bg-white/10 rounded-full"></div>
                                <div class="absolute -right-8 -top-8 w-32 h-32 bg-white/5 rounded-full"></div>
                            </div>
                        </div>
                        
                        <!-- Recent Transactions -->
                        <div class="px-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-bold text-lg">Recent Transactions</h3>
                                <button onclick="loadHistoryPage()" class="text-blue-400 text-sm font-medium">View All</button>
                            </div>
                            
                            <div id="historyList" class="space-y-3">
                                <div class="text-center py-10">
                                    <div class="w-16 h-16 mx-auto mb-4 glass-card rounded-2xl flex items-center justify-center">
                                        <i class="fas fa-receipt text-2xl text-gray-400"></i>
                                    </div>
                                    <p class="text-gray-400">No transactions yet</p>
                                    <p class="text-sm text-gray-500">Your transactions will appear here</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                loadRecentTransactions();
            });
        }
        
        // ============================================
        // FUNGSI UTILITAS
        // ============================================
        function togglePasswordVisibility(inputId, button) {
            const input = document.getElementById(inputId);
            if (input.type === 'password') {
                input.type = 'text';
                button.innerHTML = '<i class="fas fa-eye-slash"></i>';
            } else {
                input.type = 'password';
                button.innerHTML = '<i class="fas fa-eye"></i>';
            }
        }
        
        function checkPasswordStrength(password) {
            const strengthBar = document.getElementById('passwordStrength');
            const hint = document.getElementById('passwordHint');
            
            let strength = 0;
            let text = 'Very weak';
            let color = '#ef4444';
            
            if (password.length >= 8) strength += 25;
            if (/[A-Z]/.test(password)) strength += 25;
            if (/[0-9]/.test(password)) strength += 25;
            if (/[^A-Za-z0-9]/.test(password)) strength += 25;
            
            if (strength >= 75) {
                text = 'Strong';
                color = '#10b981';
            } else if (strength >= 50) {
                text = 'Medium';
                color = '#f59e0b';
            } else if (strength >= 25) {
                text = 'Weak';
                color = '#f97316';
            }
            
            strengthBar.style.width = strength + '%';
            strengthBar.style.background = color;
            hint.textContent = `Password strength: ${text}`;
            hint.style.color = color;
        }
        
        function showPasswordHint() {
            Swal.fire({
                title: 'Forgot Password?',
                html: `
                    <div class="text-left">
                        <p class="mb-4">Contact our support team to reset your password:</p>
                        <div class="bg-gray-800 p-4 rounded-xl">
                            <p class="font-mono text-blue-400">WhatsApp: ${WA_ADMIN}</p>
                            <p class="text-sm text-gray-400 mt-2">Available 24/7 for assistance</p>
                        </div>
                    </div>
                `,
                icon: 'info',
                confirmButtonText: 'Contact Support',
                showCancelButton: true
            }).then(result => {
                if (result.isConfirmed) {
                    window.open(`https://wa.me/${WA_ADMIN}`, '_blank');
                }
            });
        }
        
        // ============================================
        // FUNGSI LOGIN & REGISTER
        // ============================================
        function doLogin() {
            const u = document.getElementById('l_u').value.toLowerCase().trim();
            const p = document.getElementById('l_p').value;
            
            if (!u || !p) {
                showNotification('Please fill all fields', 'warning');
                return;
            }
            
            showLoading('Authenticating...');
            
            db.ref('users/' + u).once('value', (s) => {
                if (s.exists() && s.val().password === p) {
                    userAktif = u;
                    passAktif = p;
                    saldoAktif = s.val().saldo || 0;
                    
                    // Update last login
                    db.ref('users/' + u).update({
                        lastLogin: new Date().toISOString(),
                        loginCount: (s.val().loginCount || 0) + 1
                    });
                    
                    showNotification('Login successful!', 'success');
                    setTimeout(() => {
                        renderDashboard();
                    }, 1000);
                    
                } else {
                    showNotification('Invalid username or password', 'error');
                }
            }).catch(error => {
                showNotification('Connection error', 'error');
                console.error(error);
            });
        }
        
        function doRegister() {
            const u = document.getElementById('r_u').value.toLowerCase().trim();
            const p = document.getElementById('r_p').value;
            const p2 = document.getElementById('r_p2').value;
            const inputRef = document.getElementById('r_ref').value.toUpperCase().trim();
            const terms = document.getElementById('terms');
            
            if (!u || !p || !p2) {
                showNotification('Please fill all fields', 'warning');
                return;
            }
            
            if (p !== p2) {
                showNotification('Passwords do not match', 'error');
                return;
            }
            
            if (p.length < 4) {
                showNotification('Password must be at least 4 characters', 'error');
                return;
            }
            
            if (!terms.checked) {
                showNotification('Please accept terms and conditions', 'warning');
                return;
            }
            
            const myNewRef = generateRandomRef();
            
            showLoading('Creating your premium account...');
            
            db.ref('users/' + u).once('value', (s) => {
                if (s.exists()) {
                    showNotification('Username already taken', 'error');
                    return;
                }
                
                db.ref('users/' + u).set({
                    password: p,
                    saldo: 10000, // Bonus saldo untuk new user
                    foto: "",
                    nama: "",
                    wa: "",
                    myReferralCode: myNewRef,
                    referredBy: inputRef || "NON-REF",
                    createdAt: new Date().toISOString(),
                    lastLogin: new Date().toISOString(),
                    loginCount: 1,
                    tier: "premium"
                }).then(() => {
                    Swal.fire({
                        title: '🎉 Registration Successful!',
                        html: `
                            <div class="text-center">
                                <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-check text-2xl text-white"></i>
                                </div>
                                <h3 class="font-bold text-xl mb-2">Welcome to RYD STORE!</h3>
                                <div class="bg-gray-800 p-4 rounded-xl text-left my-4">
                                    <p class="font-mono">Username: <span class="text-green-400">${u}</span></p>
                                    <p class="font-mono mt-2">Referral Code: <span class="text-blue-400">${myNewRef}</span></p>
                                    <p class="text-sm text-gray-400 mt-2">Bonus: <span class="text-yellow-400">Rp 10,000</span> added to your balance!</p>
                                </div>
                                <p class="text-sm text-gray-400">Your account is now ready. Start exploring premium features!</p>
                            </div>
                        `,
                        icon: 'success',
                        confirmButtonText: 'Start Journey',
                        confirmButtonColor: '#3b82f6'
                    }).then(() => {
                        userAktif = u;
                        passAktif = p;
                        saldoAktif = 10000;
                        renderDashboard();
                    });
                });
            });
        }
        
        function generateRandomRef() {
            const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
            let result = "RYD";
            for (let i = 0; i < 5; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }
        
        function toggleSaldo() {
            isHide = !isHide;
            const balanceDisplay = document.getElementById('balanceDisplay');
            if (balanceDisplay) {
                if (isHide) {
                    balanceDisplay.textContent = 'Rp ••••••••';
                    balanceDisplay.classList.add('blur-md');
                } else {
                    balanceDisplay.textContent = 'Rp ' + saldoAktif.toLocaleString('id-ID');
                    balanceDisplay.classList.remove('blur-md');
                }
            }
        }
        
        // ============================================
        // FUNGSI NOTIFIKASI & LOADING
        // ============================================
        function showNotification(message, type = 'info') {
            const colors = {
                success: '#10b981',
                error: '#ef4444',
                warning: '#f59e0b',
                info: '#3b82f6'
            };
            
            Swal.fire({
                toast: true,
                position: 'top-end',
                icon: type,
                title: message,
                showConfirmButton: false,
                timer: 3000,
                timerProgressBar: true,
                background: '#1e293b',
                color: 'white',
                iconColor: colors[type]
            });
        }
        
        function showLoading(message = 'Loading...') {
            Swal.fire({
                title: message,
                allowOutsideClick: false,
                showConfirmButton: false,
                willOpen: () => {
                    Swal.showLoading();
                }
            });
        }
        
        function closeLoading() {
            Swal.close();
        }
        
        // ============================================
        // FUNGSI NAVIGASI
        // ============================================
        function navTo(page) {
            switch(page) {
                case 'dashboard':
                    renderDashboard();
                    break;
                case 'services':
                    openSubPage('pageServices');
                    break;
                case 'history':
                    loadHistoryPage();
                    break;
                case 'profile':
                    openSubPage('pageProfile');
                    break;
            }
        }
        
        function openSubPage(pageId) {
            // Implement subpages here
            showNotification('Opening ' + pageId, 'info');
        }
        
        // ============================================
        // FUNGSI TRANSAKSI PREMIUM
        // ============================================
        function topUpPremium() {
            Swal.fire({
                title: '💰 Premium Top Up',
                html: `
                    <div class="text-left">
                        <p class="mb-4 text-gray-300">Select amount or enter custom:</p>
                        
                        <div class="grid grid-cols-3 gap-3 mb-6">
                            <button onclick="selectAmount(10000)" class="amount-btn py-3 glass-card rounded-xl">10K</button>
                            <button onclick="selectAmount(50000)" class="amount-btn py-3 glass-card rounded-xl">50K</button>
                            <button onclick="selectAmount(100000)" class="amount-btn py-3 glass-card rounded-xl">100K</button>
                            <button onclick="selectAmount(200000)" class="amount-btn py-3 glass-card rounded-xl">200K</button>
                            <button onclick="selectAmount(500000)" class="amount-btn py-3 glass-card rounded-xl">500K</button>
                            <button onclick="selectAmount(1000000)" class="amount-btn py-3 glass-card rounded-xl">1JT</button>
                        </div>
                        
                        <input type="number" id="customAmount" placeholder="Enter custom amount" 
                               class="input-modern w-full py-3 rounded-xl mb-4">
                        
                        <div class="bg-gray-800 p-4 rounded-xl mb-4">
                            <p class="text-sm text-gray-400">Payment Method</p>
                            <select class="input-modern w-full py-3 rounded-xl mt-2">
                                <option>Bank Transfer</option>
                                <option>E-Wallet</option>
                                <option>QRIS</option>
                                <option>Virtual Account</option>
                            </select>
                        </div>
                    </div>
                `,
                showCancelButton: true,
                confirmButtonText: 'Continue',
                confirmButtonColor: '#3b82f6',
                preConfirm: () => {
                    const amount = document.getElementById('customAmount').value;
                    if (!amount || amount < 10000) {
                        Swal.showValidationMessage('Minimum top up is Rp 10,000');
                        return false;
                    }
                    return amount;
                }
            }).then(result => {
                if (result.isConfirmed) {
                    // Show payment instructions
                    Swal.fire({
                        title: 'Payment Instructions',
                        html: `
                            <div class="text-left">
                                <p class="mb-4">Please transfer <strong>Rp ${parseInt(result.value).toLocaleString()}</strong> to:</p>
                                <div class="bg-gray-800 p-4 rounded-xl mb-4">
                                    <p class="font-mono">Bank: BCA</p>
                                    <p class="font-mono">Account: 1234567890</p>
                                    <p class="font-mono">Name: RYD STORE</p>
                                </div>
                                <p class="text-sm text-gray-400">After payment, send proof to our WhatsApp for instant processing.</p>
                            </div>
                        `,
                        icon: 'info',
                        showCancelButton: true,
                        confirmButtonText: 'Send Proof',
                        cancelButtonText: 'Cancel'
                    }).then(confirm => {
                        if (confirm.isConfirmed) {
                            window.open(`https://wa.me/${WA_ADMIN}?text=TopUp%20Proof%20for%20${userAktif}%20-%20Rp%20${result.value}`, '_blank');
                        }
                    });
                }
            });
        }
        
        function selectAmount(amount) {
            document.getElementById('customAmount').value = amount;
        }
        
        function transferPremium() {
            Swal.fire({
                title: '↪️ Transfer Funds',
                html: `
                    <div class="text-left">
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Recipient Username</label>
                            <input id="tfUser" class="input-modern w-full py-3 rounded-xl" placeholder="@username">
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Amount</label>
                            <input id="tfAmount" type="number" class="input-modern w-full py-3 rounded-xl" placeholder="Rp">
                        </div>
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-2">Message (Optional)</label>
                            <input id="tfMessage" class="input-modern w-full py-3 rounded-xl" placeholder="For coffee ☕">
                        </div>
                        <div class="bg-gray-800 p-4 rounded-xl">
                            <p class="text-sm text-gray-400">Fee: <span class="text-green-400">FREE</span> for premium users</p>
                        </div>
                    </div>
                `,
                showCancelButton: true,
                confirmButtonText: 'Continue',
                confirmButtonColor: '#3b82f6',
                preConfirm: () => {
                    const user = document.getElementById('tfUser').value;
                    const amount = document.getElementById('tfAmount').value;
                    
                    if (!user || !amount) {
                        Swal.showValidationMessage('Please fill all fields');
                        return false;
                    }
                    
                    if (amount > saldoAktif) {
                        Swal.showValidationMessage('Insufficient balance');
                        return false;
                    }
                    
                    return { user, amount };
                }
            }).then(result => {
                if (result.isConfirmed) {
                    // Ask for password
                    Swal.fire({
                        title: '🔒 Security Verification',
                        input: 'password',
                        inputPlaceholder: 'Enter your password',
                        showCancelButton: true,
                        confirmButtonText: 'Confirm Transfer',
                        confirmButtonColor: '#10b981',
                        preConfirm: (password) => {
                            if (password !== passAktif) {
                                Swal.showValidationMessage('Incorrect password');
                                return false;
                            }
                            return true;
                        }
                    }).then(confirm => {
                        if (confirm.isConfirmed) {
                            // Process transfer
                            showLoading('Processing transfer...');
                            
                            setTimeout(() => {
                                closeLoading();
                                Swal.fire({
                                    title: '✅ Transfer Successful!',
                                    html: `
                                        <div class="text-center">
                                            <div class="w-16 h-16 mx-auto mb-4 bg-green-500/20 rounded-full flex items-center justify-center">
                                                <i class="fas fa-check text-2xl text-green-400"></i>
                                            </div>
                                            <p class="mb-2">Rp ${parseInt(result.value.amount).toLocaleString()} sent to</p>
                                            <p class="font-bold">@${result.value.user}</p>
                                            <div class="mt-6 bg-gray-800 p-4 rounded-xl">
                                                <p class="text-sm text-gray-400">Transaction ID: <span class="font-mono">TRF-${Date.now()}</span></p>
                                            </div>
                                        </div>
                                    `,
                                    icon: 'success',
                                    confirmButtonText: 'Done'
                                }).then(() => {
                                    renderDashboard();
                                });
                            }, 2000);
                        }
                    });
                }
            });
        }
        
        // ============================================
        // FUNGSI LAINNYA
        // ============================================
        function loadRecentTransactions() {
            // Implement transaction loading
        }
        
        function loadHistoryPage() {
            // Implement history page
        }
        
        // Initial render
        setTimeout(() => {
            renderLogin();
        }, 500);
    </script>
</body>
</html>
